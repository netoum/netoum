<main class="layout-main scrollbar">
    <section>
        <h1>Switcher</h1>
        <h2>Based of
            <a href="/corex/documentation/components/toggle-group" class="link ">Toggle Group Component
            </a>
        </h2>
        </h2>
        <p>Switcher component enables dynamic updating of data attributes while automatically saving preferences to
            local storage. It's ideal for implementing theme switching functionality such as light/dark mode toggles or
            custom theme selectors across your application.</p>
    </section>
    <hr id="anatomy">
    <section>
        <h3>Anatomy</h3>
        <p>The Switcher component consists of the following <code class="code-js" data-lang="html">data-part</code></p>
        <div class="flex flex-wrap gap-4 ">
            <code class="code-js">root</code>
            <code class="code-js">item</code>
        </div>
        <p>It can include multiple item parts.</p>
        <p><code class="code-js">data-value</code> is required on all item parts</p>
        <p><code class="code-js">data-key</code> is required on the component</p>
        <p><code class="code-js">data-default-value</code> is not required on the component but recommended to have a
            default value value to load at first.</p>

        <div class="preview">
            <div id="switcher-anatomy" class="preview-display">
                <div class="switcher switcher-js" data-default-value="a" data-key="key-anatomy">
                    <div data-part="root">
                        <button data-part="item" data-value="a">A</button>
                        <button data-part="item" data-value="b">B</button>
                        <button data-part="item" data-value="c">C</button>
                    </div>
                </div>
            </div>
            {{> copy/switcher/anatomy}}
        </div>

        <div class="notification">
            Check the changes of the values of the attribute of the <code data-lang="html" class="code-js">html</code>
            tag
        </div>
    </section>
    <hr id="attribute">
    <section>
        <h3>Data attributes</h3>
        <p>Each switcher can be set with different settings with the following data-attribute.</p>
        <div class="preview">
            <div id="switcher-attribute" class="preview-display">
                <div class="switcher switcher-js" data-key="key-attributes" data-default-value="c"
                    data-orientation="vertical" data-dir="rtl" data-deselectable="true" data-loop-focus="false"
                    data-rowing-focus="false" data-multiple="true">
                    <div data-part="root">
                        <button data-part="item" data-value="a">A</button>
                        <button data-part="item" data-value="b">B</button>
                        <button data-part="item" data-value="c">C</button>
                    </div>

                </div>
            </div>
            {{> copy/switcher/attribute}}
        </div>
        <div class="table-wrapper scrollbar scrollbar--sm">
            <table>
                <thead>
                    <tr>
                        <th>Data attribute</th>
                        <th>Type / Options</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code class="code-js select-all">id</code></td>
                        <td>string</td>
                        <td>The unique id of the component. Default generated if none is provided</td>
                    </tr>
                    <tr>
                        <td><code class="code-js select-all">data-key</code></td>
                        <td>string</td>
                        <td>The attribute key used to apply the values to the document: data-${key}.</td>
                    </tr>
                    <tr>
                        <td><code class="code-js select-all">data-default-value</code></td>
                        <td>string || string list</td>
                        <td>The initial selected switcher value/values. Separated by comma</td>
                    </tr>
                    <tr>
                        <td><code class="code-js select-all">data-value</code></td>
                        <td>string || string list</td>
                        <td>The controled switcher value/values. Separated by comma</td>
                    </tr>
                    <tr>
                        <td><code class="code-js select-all">data-orientation</code></td>
                        <td>horizontal | vertical</td>
                        <td>The orientation of the switcher. Can be `horizontal` or `vertical` - `horizontal`: only
                            left and
                            right arrow key navigation will work. - `vertical`: only up and down arrow key navigation
                            will work.</td>
                    </tr>
                    <tr>
                        <td><code class="code-js select-all">data-dir</code></td>
                        <td>ltr | rtl</td>
                        <td>The orientation of the switcher. Can be `ltr` or `rtl`</td>
                    </tr>
                    <tr>
                        <td><code class="code-js select-all">data-loop-focus</code></td>
                        <td>boolean</td>
                        <td>Whether the keyboard navigation will loop from last tab to first, and vice versa.</td>
                    </tr>
                    <tr>
                        <td><code class="code-js select-all">data-rowing-focus</code></td>
                        <td>boolean</td>
                        <td>Whether to use roving tab index to manage focus.</td>
                    </tr>
                    <tr>
                        <td><code class="code-js select-all">data-multiple</code></td>
                        <td>boolean</td>
                        <td>Whether to allow multiple toggles to be selected.</td>
                    </tr>
                    <tr>
                        <td><code class="code-js select-all">data-deselectable</code></td>
                        <td>boolean</td>
                        <td>Whether the switcher allows empty selection. Note: This is ignored if multiple is true</td>
                    </tr>
                    <tr>
                        <td><code class="code-js select-all">data-disabled</code></td>
                        <td>boolean</td>
                        <td>Whether the toggle is disabled.
                    </tr>
                </tbody>
            </table>
        </div>
    </section>
    <hr id="callbacks">
    <section>
        <h3>Callbacks</h3>
        <p> Each Switcher component can receive callbacks that can be used to respond to user interaction with
            custom
            behavior.</p>
        <p>You must add a custom id for the switcher and a event listener for your event name</p>
        <div class="preview">
            <div class="preview-code scrollbar scrollbar--sm">

                <pre><code class="code-js" data-lang="js">
                document.getElementById("my-callback-switcher")
                ?.addEventListener("my-callback-switcher-event", (event) => {
                  console.log("Received event:", (event as CustomEvent).detail);
                });
            </code></pre>
            </div>
        </div>

        <div class="preview">
            <div id="switcher-callback" class="preview-display">
                <div id="my-callback-switcher" class="switcher switcher-js" data-key="key-callback"
                    data-default-value="a" data-on-value-change="my-callback-switcher-event">
                    <div data-part="root">
                        <button data-part="item" data-value="a">A</button>
                        <button data-part="item" data-value="b">B</button>
                        <button data-part="item" data-value="c">C</button>
                    </div>
                </div>
            </div>
            {{> copy/switcher/callback}}
        </div>
        <div class="notification">
            <p>Open your browser's console to see the events received when the toggle is clicked</p>
        </div>
        <div class="table-wrapper scrollbar scrollbar--sm">
            <table>
                <thead>
                    <tr>
                        <th>Data attribute</th>
                        <th>Type / Options</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code class="code-js select-all">data-on-value-change</code></td>
                        <td>string</td>
                        <td>Event name to be send when the toogle is clicked
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>
    <section>
        <h3>Set Value Control</h3>
        <p>Switcher value can be control with event dispatch
        </p>
        <p>You must set a custom id for your switcher, as the default is randomly generated</p>
        <code class="code-js">switcher:set-value</code>
        <p>the detail of the event must contain the value, a list of strings</p>
        <pre>
            <code class="code-js" data-lang="js">
               value = ["light"]
                const targetEl = document.getElementById("my-switcher");
    if (targetEl && targetEl !== event.target) {
      targetEl.dispatchEvent(new CustomEvent("switcher:set-value", {
        detail: { value }
      }));
    }
            </code>
        </pre>

        <p>This a real example changing the mode on the site.</p>
        <p>Due to another switcher with the same key on the same page, we must synchronise them using the id and
            callback and set value</p>

        <div class="preview">
            <div id="switcher-example" class="preview-display">
                <div id="mode-switcher-demo" class="switcher switcher-js" data-default-value="light" data-key="mode"
                    data-on-value-change="update-mode-switcher">
                    <div data-part="root">
                        <button data-part="item" data-value="light" aria-label="Switch to light color mode">
                            <svg class="item__icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                                viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" />
                            </svg>
                        </button>
                        <button data-part="item" data-value="dark" aria-label="Switch to dark color mode">
                            <svg class="item__icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                                viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            {{> copy/switcher/example}}
        </div>


        <pre>
            <code class="code-js" data-lang="js">
                    document.getElementById(&quot;mode-switcher-demo&quot;)?.addEventListener(&quot;update-mode-switcher&quot;, (event) =&gt; {
                        const { value } = (event as CustomEvent&lt;{ value: string&#91;&#93; }&gt;).detail;
                        const targetEl = document.getElementById(&quot;mode-switcher&quot;);
                        if (targetEl &amp;&amp; targetEl !== event.target) {
                            targetEl.dispatchEvent(new CustomEvent(&quot;switcher:set-value&quot;, {
                            detail: { value }
                            }));
                        }
                        });
                        
                        document.getElementById(&quot;mode-switcher&quot;)?.addEventListener(&quot;update-mode-switcher-demo&quot;, (event) =&gt; {
                        const { value } = (event as CustomEvent&lt;{ value: string&#91;&#93; }&gt;).detail;    
                        const targetEl = document.getElementById(&quot;mode-switcher-demo&quot;);
                        if (targetEl &amp;&amp; targetEl !== event.target) {
                            targetEl.dispatchEvent(new CustomEvent(&quot;switcher:set-value&quot;, {
                            detail: { value }
                            }));
                        }
                        });
            </code>
        </pre>

    </section>


    <hr id="duo">
    <section>
        <h3>Duo Switch</h3>
        <p>If you only have 2 values and you wish to hide the active one, you can add the <code
                class="code-js">switcher--duo</code> class</p>
        <div class="preview my-6">
            <div id="switcher-duo" class="preview-display">
                <div class="switcher switcher-js switcher--duo switcher--circle" data-default-value="a" data-key="key-duo">
                    <div data-part="root">
                        <button data-part="item" data-value="a">A</button>
                        <button data-part="item" data-value="b">B</button>
                    </div>
                </div>
            </div>
            {{> copy/switcher/duo}}
        </div>
    </section>

    <hr id="rtl">
    <section>
        <h3>RTL</h3>
        <p>RTL support for switcher</p>
        <div class="preview my-6">
            <div id="switcher-rtl" class="preview-display">
                <div dir="rtl">
                    <div class="switcher switcher-js" data-key="key-rtl" data-default-value="a" data-dir="rtl">
                        <div data-part="root">
                            <button data-part="item" data-value="a">A
                                <svg class="item__icon" xmlns="http://www.w3.org/2000/svg" fill="none"
                                    viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="m8.25 4.5 7.5 7.5-7.5 7.5" />
                                </svg>
                            </button>
                            <button data-part="item" data-value="b">B
                                <svg class="item__icon" xmlns="http://www.w3.org/2000/svg" fill="none"
                                    viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="m8.25 4.5 7.5 7.5-7.5 7.5" />
                                </svg>
                            </button>
                            <button data-part="item" data-value="c">C
                                <svg class="item__icon" xmlns="http://www.w3.org/2000/svg" fill="none"
                                    viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="m8.25 4.5 7.5 7.5-7.5 7.5" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>

            </div>
            {{> copy/switcher/rtl}}
        </div>
    </section>
    <hr id="custom">
    <section>
        <h3>Custom (Tailwind)</h3>
        <p>If you are using Tailwind styling, you can customize each switcher and its parts with Tailwind utilities
        </p>
        <div class="preview my-6">
            <div id="switcher-custom" class="preview-display">
                <div class="switcher switcher-js" data-key="key-6" data-default-value="a">
                    <div data-part="root" class="bg-ui-alert shadow-xl rounded-xl">
                        <button data-part="item" data-value="a"
                        class="bg-ui-brand data-[state=on]:bg-accent-brand data-[state=on]:text-accent-contrast-alert data-[state=on]:hover:bg-accent-brand-1 data-[state=on]:active:bg-accent-brand-2"
                        >A</button>
                        <button data-part="item" data-value="b"
                        class="bg-ui-alert data-[state=on]:bg-accent-alert data-[state=on]:text-accent-contrast-brand data-[state=on]:hover:bg-accent-brand-1 data-[state=on]:active:bg-accent-brand-2"
                        >B</button>
                        <button data-part="item" data-value="c"
                        class="bg-ui data-[state=on]:bg-accent data-[state=on]:text-accent-contrast-brand data-[state=on]:hover:bg-accent-1 data-[state=on]:active:bg-accent-2"
                        >C</button>
                    </div>
                </div>
            </div>
            {{> copy/switcher/custom}}
        </div>
    </section>
    <hr>
    <h3>Templates</h3>
    <p>Switcher components is available in the followng templates</p>
    {{> styling}}
    </section>
    {{> skip prev="Menu" next="Tabs" prev-path="components/menu" next-path="components/tabs"}}
</main>